# Выбор категории системы: ACID, BASE
<!-- Название ADR состоит из [ADR.###] [Коротко суть принятого решения] -->

* Статус: Предложено
* Владелец: nnshalaeva@mts.com

## Контекст
Необходимо определить тип системы организации конференции - ACID или BASE - с учетом функциональных и нефункциональных требований.

### Основные факторы, влияющие на решение
Согласно QR.01 - QR.08 система должна быть масштабируемой на несколько географических зон, при этом поддерживать достаточно серьезную производительность (выдерживать пиковые нагрузки во время конференций), надежность и доступность (детальнее см. Нефункциональные требования/Требования к атрибутам качества).

### Проблема
Необходимо выбрать тип системы для дальнейшей реализации приложения оргнанизации конференций 


## Варианты решения
<!-- Описание рассмотренных вариантов c их плюсами и минусами -->

### Вариант 1. Система категории ACID
<!-- Описание варианта 1 -->
Системы типа ACID (Atomicity, Consistency, Isolation, Durability)
* **Плюсы**
  * Надежность: ACID гарантирует, что транзакции будут выполнены атомарно, согласованно, изолированно и долговечно. Это обеспечивает целостность данных и предотвращает потерю данных в случае сбоев или ошибок.
  * Согласованность: ACID гарантирует, что после выполнения транзакции данные будут находиться в согласованном состоянии. Это предотвращает неконсистентность данных, которая может привести к ошибкам и неправильному функционированию приложений.
  * Изоляция: ACID гарантирует, что транзакции выполняются в изолированной среде, где они не могут влиять на другие транзакции, выполняющиеся одновременно. Это предотвращает конфликты доступа к данным и гарантирует, что транзакции будут выполняться последовательно и корректно.
  * Простота: ACID является стандартом для большинства реляционных баз данных, что делает его простым и понятным для большинства разработчиков и администраторов баз данных.
* **Минусы**
  * Производительность: ACID системы обеспечивают высокую надежность и целостность данных, но за это приходится платить в виде уменьшения производительности. Это связано с использованием блокировок и других механизмов, которые предотвращают конфликты доступа к данным и обеспечивают изоляцию.
  * Сложность: ACID системы могут быть сложными и трудоемкими в настройке и управлении. Требуется тщательно планировать и проектировать систему, чтобы обеспечить согласованность и изоляцию транзакций.
  * Ограничения: ACID системы не всегда могут удовлетворять требованиям бизнеса, которые могут требовать более высокой производительности или более гибкой модели данных. Например, они могут ограничивать возможности масштабирования или реализации распределенной системы.
  * Цена: ACID системы могут быть дорогими в использовании и поддержке.

### Вариант 2. Система категории BASE
BASE (Basically Available, Soft state, Eventually consistent) системы
* **Плюсы**
  * Производительность: BASE системы обеспечивают более высокую производительность, чем ACID системы, благодаря отсутствию блокировок и более гибкой модели данных. Это позволяет лучше масштабировать систему и обрабатывать большие объемы данных.
  * Гибкость: BASE системы обычно предоставляют более гибкую модель данных, что позволяет лучше адаптироваться к требованиям бизнеса. Они также могут лучше работать в распределенных системах и облаках.
  * Доступность: BASE системы предоставляют высокую доступность данных, что обеспечивает более высокий уровень обслуживания для пользователей. Они также могут лучше обрабатывать большие объемы запросов и обеспечивать более быстрый отклик системы.
  * Расширяемость: BASE системы легче масштабируются горизонтально, что позволяет быстрее реагировать на изменения требований к системе и увеличивать ее мощность.
  * Простота: BASE системы могут быть проще в настройке и управлении, так как они обычно не требуют такого жесткого контроля над транзакциями и блокировками, как ACID системы.
* **Минусы**
  * Надежность: BASE системы могут быть менее надежными, чем ACID системы, так как они не обеспечивают гарантированной целостности данных и могут допускать временные несогласованности.
  * Сложность: BASE системы могут быть более сложными в настройке и управлении, так как они требуют более тщательного планирования и проектирования. Они также могут требовать более сложных алгоритмов для поддержки согласованности данных и обработки конфликтов.
  * Согласованность: BASE системы могут не удовлетворять требованиям бизнеса, которые требуют согласованности данных в реальном времени. Это может привести к проблемам с надежностью и целостностью данных.
  * Конфликты: BASE системы могут допускать конфликты данных и требовать специальных механизмов для их обработки

## Решение
<!-- Описание выбранного решения. Решение должно быть сформулировано чётко ("Мы используем...", "Мы не используем", а не "Желательно.." или "Предлагается..."). 
Должна быть понятна связь между решением и проблемой, почему выбрали именно это решение из вариантов -->
Согласно нефункциональным требованиям проектируемая система должна быть масштабируемой и выдерживать высокую пиковоую нагрузку, при этом консистентность данных вполне допустимо может быть **временно** нарушена. Общим подходом к проектированию систему решено выбрать BASE, при этом часть системы касающаюся оплаты будет спроектирована так, чтобы соответствовать ACID требованиям (реализуется с помощью внешнего сервиса).

## Последствия
<!-- Положительные и отрицательные последствия (trade-offs). Арх. решения, которые потребуется принять как следствие принятого решения. Если решение содержит риски, то описано, как с ними планируют поступить (за счет чего снижать, почему принять). -->
### Положительные 
* Архитектура системы на базе BASE будет легче масштабируема 
* В архитектуру можно заложить решения для работы с высокими пиковыми нагрузками

### Отрицательные 
* Некоторые части системы будут требовать специальных механизмов для поддержания консистентности (например, оплата)